<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NTS E-shop - Produkty</title>
    <!-- Načtení Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Základní styl pro tělo */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Styly pro modální okno */
        .modal {
            transition: opacity 0.25s ease;
        }
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
        }
        .modal-container {
            /* Ponecháváme původní styly pro velikost a pozadí */
            background-color: white;
            padding: 2rem;
            border-radius: 0.5rem;
            max-width: 90%;
            width: 600px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            z-index: 100;
            
            /* NOVÉ STYLY PRO SCROLLING: Omezení výšky a povolení vertikálního posuvu */
            max-height: 90vh; /* Maximální výška na 90% výšky okna */
            display: flex;
            flex-direction: column;
        }
        /* Placeholder pro obrázek - upraveno pro lepší vzhled a menší mezery */
        .image-placeholder {
            width: 100%;
            height: 160px; /* Sníženo z 200px */
            background-color: #f3f4f6; /* Světlejší šedá */
            display: flex;
            align-items: center;
            justify-content: center;
            color: #9ca3af;
            border-radius: 0.5rem 0.5rem 0 0; /* Zaoblení jen nahoře */
            margin-bottom: 0;
            font-size: 0.875rem; /* menší text */
        }
    </style>
</head>
<body class="bg-gray-50 font-sans antialiased">

    <div class="container mx-auto max-w-6xl p-4 md:p-8">

        <h1 class="text-4xl font-extrabold text-gray-900 mb-6">NTS E-shop</h1>
        <p class="text-lg text-gray-600 mb-8">Zde naleznete aktuální nabídku produktů. Vyberte si prosím kategorii. Vše za bezkonkurenční ceny, výhodné nabídky a sposuta levných produktů! Rychlé doručení na spoustu produktů při osobním odběru!</p>

        <!-- KATEGORIE - DVA VELKÉ VÝBĚROVÉ TLAČÍTKA -->
        <div id="initial-category-select" class="flex flex-col md:flex-row gap-6 mb-8 h-80">
            <button data-category="Nove" id="btn-select-nove" class="flex-1 flex flex-col items-center justify-center text-3xl font-extrabold text-white p-12 rounded-2xl shadow-2xl transition duration-300 hover:scale-[1.02] bg-green-500 hover:bg-green-600">
                Nové produkty
            </button>
            <button data-category="Bazar" id="btn-select-bazar" class="flex-1 flex flex-col items-center justify-center text-3xl font-extrabold text-white p-12 rounded-2xl shadow-2xl transition duration-300 hover:scale-[1.02] bg-orange-500 hover:bg-orange-600">
                Bazárek
            </button>
        </div>

        <!-- ZPRÁVA O NAČÍTÁNÍ - Zobrazí se ihned a skryje se po načtení dat -->
        <p id="loading-message" class="text-center text-xl text-gray-500 p-8">Moment prosím, stále stahujeme nová data z databáze. Zabere to jen pár sekund...</p>
        
        <!-- SEZNAM PRODUKTŮ A KATEGORIE - Skrytý, dokud se nenačtou data a nezvolí kategorie -->
        <div id="product-list-container" class="hidden">
             <!-- Dynamický název kategorie, který se nastaví v JS -->
            <h2 id="current-category-title" class="text-3xl font-bold text-gray-800 mb-6"></h2>
            <div id="product-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Produkty se načtou zde dynamicky -->
            </div>
        </div>
    </div>

    <!-- MODÁLNÍ OKNO PRO DETAIL PRODUKTU -->
    <div id="product-detail-modal" class="modal modal-overlay hidden">
        <div class="modal-container">
            <!-- KONTEJNER PRO SCROLLING OBSAHU -->
            <div class="overflow-y-auto pr-4 flex-grow">
                <h3 id="detail-product-name" class="text-3xl font-bold text-gray-800 mb-4">Název produktu</h3>
                
                <div id="detail-image-container" class="mb-4">
                    <!-- Odkaz na foto -->
                    <p id="detail-photo-link" class="text-gray-700 text-sm font-medium mb-4">NTS Foto: Není k dispozici</p>
                    <!-- Placeholder pro náhled obrázku (neodesílá se, pouze vizuální) -->
                    <div class="image-placeholder">Není k dispozici náhled obrázku</div>
                </div>

                <p class="text-sm font-semibold text-indigo-600 mb-2">Stav:</p>
                <p id="detail-stav" class="text-gray-700 mb-4"></p>

                <p class="text-sm font-semibold text-indigo-600 mb-2">Popis:</p>
                <!-- Zajištění, že popis se posouvá v rámci modalu -->
                <p id="detail-popis" class="text-gray-700 mb-4 whitespace-pre-line"></p>

                <p class="text-sm font-semibold text-indigo-600 mb-2">Dostupnost:</p>
                <p id="detail-dostupnost" class="text-gray-700 mb-4"></p>

                <p class="text-sm font-semibold text-indigo-600 mb-2">Kusů skladem:</p>
                <p id="detail-kusy" class="text-gray-700 text-xl font-bold mb-6"></p>
            </div>
            <!-- KONEC SCROLLING KONTEJNERU -->

            <!-- TLAČÍTKA - ZŮSTANOU NEPŘEKRYTÁ VE SPODNÍ ČÁSTI MODALU -->
            <div class="flex justify-end gap-3 pt-4 border-t border-gray-200 mt-4">
                <button id="btn-close-detail" class="bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-400 transition duration-200">
                    Zavřít
                </button>
                <!-- Velké zelené tlačítko s ikonou pro přechod k nákupu -->
                <button id="btn-buy-now" class="bg-green-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-600 transition duration-200 flex items-center gap-2 text-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
                        <path d="M2.25 2.25a.75.75 0 0 0 0 1.5h1.386c.17 0 .318.114.362.278l2.558 9.592a3.75 3.75 0 0 0 7.454.225-.75.75 0 0 0-1.489-.374 2.25 2.25 0 0 1-4.48.119l-2.062-7.747h14.426a.75.75 0 0 0 0-1.5H2.25Z" />
                        <path d="M12.75 19.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM17.25 19.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z" />
                    </svg>
                    Koupit nyní
                </button>
            </div>
        </div>
    </div>

    <!-- MODÁLNÍ OKNO PRO KROK 1: ZADÁNÍ MNOŽSTVÍ -->
    <div id="reservation-modal" class="modal modal-overlay hidden">
        <div class="modal-container">
            <h3 class="text-2xl font-bold text-gray-800 mb-4">Zadat počet kusů</h3>
            <p id="quantity-prompt" class="text-gray-700 mb-4">Rozhodněte, kolik kusů chcete zakoupit - zapište pouze číslo níže:</p>
            
            <form id="quantity-form" class="space-y-4">
                <div>
                    <!-- Vstup pro množství -->
                    <input type="text" pattern="[0-9]*" id="purchase-quantity-input" class="mt-1 block w-full px-4 py-3 text-2xl border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500" placeholder="Zadejte počet kusů" value="1" required>
                </div>
                
                <!-- Zpráva o chybě validace množství -->
                <p id="quantity-error-message" class="text-red-500 font-semibold hidden"></p>

                <div class="flex justify-end gap-3 pt-4">
                    <button type="button" id="btn-cancel-quantity" class="bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-400 transition duration-200">
                        Zpět
                    </button>
                    <button type="submit" id="btn-next-step" class="bg-indigo-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-indigo-700 transition duration-200">
                        Objednat
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- TOAST KONTEJNER (Pro rychlé zprávy o chybách) -->
    <div id="toast-container" class="fixed top-4 right-4 z-[500] space-y-2">
        <!-- Zprávy o chybách se zde objeví -->
    </div>

    <!-- MODÁLNÍ OKNO PRO AUTORIZACI / LOADING (Fullscreen) -->
    <div id="auth-loading-modal" class="hidden fixed top-0 left-0 right-0 bottom-0 bg-gray-900 bg-opacity-75 text-white p-8 flex flex-col items-center justify-center z-[1000] text-xl">
        <svg class="animate-spin -ml-1 mr-3 h-10 w-10 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
        <p id="auth-loading-text" class="mt-4 font-bold">Vyčkejte, autorizujeme objednávku se serverem...</p>
    </div>

    <!-- Firebase a aplikační skript -->
    <script type="module">
        // Import funkcí z Firebase SDK
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getDatabase, ref, onValue, update } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-database.js";

        // Konfigurace Firebase
        // POZNÁMKA: Používá se statická konfigurace pro demonstrační účely.
        // V Canvas prostředí by se používalo __firebase_config.
        const firebaseConfig = {
            apiKey: "AIzaSyDWuTL_dbpAaLc6GEaIBwyQMCemYrrT1DM",
            authDomain: "nts-eshop.firebaseapp.com",
            projectId: "nts-eshop",
            databaseURL: "https://nts-eshop-default-rtdb.europe-west1.firebasedatabase.app",
            storageBucket: "nts-eshop.firebasestorage.app",
            messagingSenderId: "882610702624",
            appId: "1:882610702624:web:d692d9421d493119ebaf45",
            measurementId: "G-C2G6CMEBJ5"
        };

        // Inicializace Firebase
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
        const productsRef = ref(db, 'products');

        // Globální proměnné a cache
        let allProducts = {};
        let currentFilter = null; // null znamená úvodní obrazovka
        let currentReservationKey = null;

        // DOM Elementy
        const initialSelect = document.getElementById('initial-category-select');
        const productListContainer = document.getElementById('product-list-container');
        const productList = document.getElementById('product-list');
        const loadingMessage = document.getElementById('loading-message');
        const detailModal = document.getElementById('product-detail-modal');
        const quantityModal = document.getElementById('reservation-modal');
        const quantityForm = document.getElementById('quantity-form');
        const purchaseQuantityInput = document.getElementById('purchase-quantity-input');
        const quantityErrorMessage = document.getElementById('quantity-error-message');
        const authLoadingModal = document.getElementById('auth-loading-modal');
        const authLoadingText = document.getElementById('auth-loading-text');
        const currentCategoryTitle = document.getElementById('current-category-title');
        const toastContainer = document.getElementById('toast-container');

        // === Utility ===

        function showToast(text, isError = false) {
            const toast = document.createElement('div');
            toast.textContent = text;
            toast.className = `p-3 rounded-lg shadow-xl font-bold transition duration-300 transform translate-y-0 ${isError ? 'bg-red-500' : 'bg-green-500'} text-white opacity-100`;
            toastContainer.appendChild(toast);
            
            setTimeout(() => {
                toast.classList.add('opacity-0', 'translate-y-2');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        function showLoadingScreen(text) {
            authLoadingText.textContent = text;
            authLoadingModal.classList.remove('hidden');
        }

        function hideLoadingScreen() {
            authLoadingModal.classList.add('hidden');
        }

        function showModal(modalId) {
            document.getElementById(modalId).classList.remove('hidden');
        }

        function hideModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
        }


        // === Logika renderování ===

        function renderProductCard(key, product) {
            // Kontrola dostupnosti kusů
            const kusy = parseInt(product.Kusy || 0, 10);
            const isAvailable = kusy > 0;
            const availabilityText = isAvailable ? `Skladem: ${kusy} ks` : 'Není skladem';

            const card = document.createElement('div');
            // Úprava tříd pro menší mezery a lepší vzhled
            card.className = 'bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300';
            card.dataset.key = key;

            // Zjednodušený placeholder pro náhled (odkaz na foto je jen v detailu)
            const photoUrl = product.Foto && product.Foto.split(',')[0].trim();
            const imageHtml = photoUrl
                // Použijeme placeholder, protože nechceme v seznamu nutně na malé kartě zobrazovat obrázek z externího zdroje
                ? `<div class="image-placeholder h-40">Foto dostupné po otevření produktu</div>`
                : `<div class="image-placeholder h-40">Není k dispozici náhled obrázku</div>`;

            card.innerHTML = `
                ${imageHtml}
                <div class="p-4 flex flex-col justify-between h-auto">
                    <div>
                        <span class="text-xs font-medium text-gray-500">${product.Typ === 'Nove' ? 'NOVÁ PRODEJKA' : 'BAZAR'}</span>
                        <h2 class="text-xl font-bold text-gray-800 mt-0 mb-2">${product.PRODUCT}</h2>
                        <!-- Omezený popis pro lepší kontrolu vertikálního prostoru -->
                        <p class="text-sm text-gray-600 mb-4 h-12 overflow-hidden">${product.Popis.substring(0, 80)}${product.Popis.length > 80 ? '...' : ''}</p>
                    </div>
                    <div class="flex justify-between items-center mt-2">
                        <span class="text-base font-bold ${isAvailable ? 'text-green-600' : 'text-red-500'}">
                            ${availabilityText}
                        </span>
                        <!-- Tlačítko pro detail je neaktivní, pokud není kus k dispozici -->
                        <button data-key="${key}" ${!isAvailable ? 'disabled' : ''} class="btn-show-detail bg-indigo-600 text-white font-bold py-1.5 px-3 rounded-lg hover:bg-indigo-700 text-sm transition duration-150 ${!isAvailable ? 'opacity-50 cursor-not-allowed' : ''}">
                            Více info
                        </button>
                    </div>
                </div>
            `;
            
            // Listener pro zobrazení detailu
            const detailButton = card.querySelector('.btn-show-detail');
            if (detailButton) {
                detailButton.onclick = (e) => {
                    e.stopPropagation();
                    if (kusy > 0) {
                        showProductDetail(key);
                    }
                };
            }

            return card;
        }

        function renderProductList(products, filter) {
            productList.innerHTML = '';
            let found = 0;
            const categoryName = filter === 'Nove' ? 'Nové produkty' : 'Bazárek';
            currentCategoryTitle.textContent = categoryName;

            if (!products || Object.keys(products).length === 0) {
                productList.innerHTML = `<p class="col-span-full text-center text-gray-500 p-8">Jejda, nejsou tady žádné produkty na prodej. Nabídka je aktuálně prázdná. Můžete ještě zkusit aktualizovat stránku, třeba jde jen o chybu v načtení. Pokud i po aktulizaci stránky vidíte tento text, tak sem rozhodně zavítejte později - již brzy budou skladem nové produkty a kusy!</p>`;
                return;
            }

            Object.entries(products).forEach(([key, product]) => {
                // Filtrovat pouze podle zvoleného typu
                if (product.Typ === filter) {
                    productList.appendChild(renderProductCard(key, product));
                    found++;
                }
            });

            if (found === 0) {
                productList.innerHTML = `<p class="col-span-full text-center text-gray-500 p-8">V kategorii "${categoryName}" nejsou žádné dostupné produkty.</p>`;
            }
        }

        // === Logika úvodního výběru ===

        function selectCategory(category) {
            currentFilter = category;
            
            // 1. Skryjeme úvodní tlačítka
            initialSelect.classList.add('hidden');
            
            // 2. Skryjeme loading zprávu (pokud stále viditelná) a zobrazíme list
            loadingMessage.classList.add('hidden');
            productListContainer.classList.remove('hidden');

            // 3. Renderujeme produkty
            renderProductList(allProducts, currentFilter);
        }

        // === Logika detailu a nákupu (Quantity Input) ===

        function showProductDetail(key) {
            const product = allProducts[key];
            if (!product) return;

            currentReservationKey = key;

            document.getElementById('detail-product-name').textContent = product.PRODUCT;
            document.getElementById('detail-stav').textContent = product.Stav || 'N/A';
            document.getElementById('detail-popis').textContent = product.Popis || 'Není k dispozici.';
            document.getElementById('detail-dostupnost').textContent = product.Dostupnost || 'N/A';
            document.getElementById('detail-kusy').textContent = `${product.Kusy} ks`;
            
            const photoLinkElement = document.getElementById('detail-photo-link');
            const imageContainer = document.getElementById('detail-image-container');
            const photos = product.Foto ? product.Foto.split(',').map(f => f.trim()).filter(f => f) : [];
            const photoUrl = photos.length > 0 ? photos[0] : null;

            // Logika zobrazení odkazu na foto
            if (photoUrl) {
                // Opraveno: Klikatelný odkaz na nové kartě s celou URL
                photoLinkElement.innerHTML = `
                    NTS Foto: <a href="${photoUrl}" target="_blank" class="text-blue-500 hover:text-blue-700 underline font-normal break-all">${photoUrl}</a>
                `;
            } else {
                photoLinkElement.innerHTML = `NTS Foto: Není k dispozici`;
            }

            // Místo náhledu obrázku zůstane placeholder (jak je v šabloně)
            imageContainer.querySelector('.image-placeholder').textContent = photoUrl ? "Obrázek k dispozici na odkazu výše" : "Není k dispozici náhled obrázku";

            const btnBuyNow = document.getElementById('btn-buy-now');
            if (product.Kusy > 0) {
                btnBuyNow.classList.remove('bg-gray-400', 'cursor-not-allowed', 'opacity-50');
                btnBuyNow.classList.add('bg-green-500', 'hover:bg-green-600');
                btnBuyNow.disabled = false;
            } else {
                btnBuyNow.classList.remove('bg-green-500', 'hover:bg-green-600');
                btnBuyNow.classList.add('bg-gray-400', 'cursor-not-allowed', 'opacity-50');
                btnBuyNow.disabled = true;
            }

            showModal('product-detail-modal');
        }

        document.getElementById('btn-buy-now').onclick = () => {
            const product = allProducts[currentReservationKey];
            if (!product || product.Kusy < 1) return;

            // Reset formuláře, chybové zprávy a nastavení defaultní hodnoty
            quantityForm.reset();
            quantityErrorMessage.classList.add('hidden');
            purchaseQuantityInput.value = '1';

            // Skrytí detailu a zobrazení zadání množství
            hideModal('product-detail-modal');
            showModal('reservation-modal');
        };

        // Tlačítko Zpět (Zrušit) v modalu Zadat počet kusů
        document.getElementById('btn-cancel-quantity').onclick = () => {
            hideModal('reservation-modal');
            showProductDetail(currentReservationKey); // Vrátit se na detail
        };


        quantityForm.onsubmit = async (e) => {
            e.preventDefault();
            
            if (!currentReservationKey) return;

            const product = allProducts[currentReservationKey];
            const availableKusy = parseInt(product.Kusy || 0, 10);
            
            // 1. Validace čísla (pouze číslo a kladné)
            const quantityInput = purchaseQuantityInput.value.trim();
            const purchaseQuantity = parseInt(quantityInput, 10);

            quantityErrorMessage.classList.add('hidden'); 

            if (isNaN(purchaseQuantity) || purchaseQuantity <= 0 || !quantityInput.match(/^\d+$/)) {
                quantityErrorMessage.textContent = "Napište pouze číslo, kolik chcete kusů! POUZE ČÍSLO!";
                quantityErrorMessage.classList.remove('hidden');
                return;
            }

            // 2. Validace dostupnosti
            if (purchaseQuantity > availableKusy) {
                quantityErrorMessage.textContent = `Litujeme, ale skladem máme pouze tolik kusů: ${availableKusy} ks. Více aktuálně nemůžeme poskytnout.`;
                quantityErrorMessage.classList.remove('hidden');
                return;
            }
            
            // Pokud je vše OK, přejdeme k autorizaci a DB operaci
            
            // Skrytí modálu pro množství
            hideModal('reservation-modal');

            // 3. Zobrazit Autorizační zprávu
            showLoadingScreen("Vyčkejte, autorizujeme objednávku se serverem...");
            
            // 4. DB Update
            const newKusy = availableKusy - purchaseQuantity;
            const newReservation = 1; // Označení pro admina
            // Nové objednané kusy se přičtou k existujícím (nebo se nastaví, pokud neexistují)
            const currentObjednano = parseInt(product.Objednano || 0, 10);
            const newObjednano = currentObjednano + purchaseQuantity;
            
            const updates = {
                Kusy: newKusy,
                Reservation: newReservation, // Označuje, že je objednávka
                Objednano: newObjednano // Ukládá celkový počet objednaných kusů pro admina
            };

            const productRef = ref(db, `products/${currentReservationKey}`);

            try {
                // Provedení aktualizace databáze
                await update(productRef, updates);
                
                // 5. Autorizace úspěšná, přesměrování
                
                // Zjištění, zda se vyžaduje e-mail (Email: 1)
                const requiresEmail = parseInt(product.Email, 10) === 1;
                
                let redirectUrl;
                if (requiresEmail) {
                    redirectUrl = "https://final-packet-nutnymail.strik.cz";
                } else {
                    redirectUrl = "https://final-packet-notmail.strik.cz";
                }

                // Přesměrování
                window.location.href = redirectUrl;

            } catch (error) {
                console.error("Chyba při objednávce/DB operaci: ", error);
                hideLoadingScreen();
                showToast("Nastala chyba při objednávce. Zkuste to prosím později.", true);
            }
        };
        
        // Zavření detailu
        document.getElementById('btn-close-detail').onclick = () => hideModal('product-detail-modal');


        // === Inicializace a Databáze listener ===

        // Inicializace Realtime Database listeneru
        let initialDataLoaded = false;
        onValue(productsRef, (snapshot) => {
            const data = snapshot.val();
            allProducts = data || {};
            console.log("Data z Firebase pro uživatele načtena/aktualizována.");
            
            // 1. Skrýt loading zprávu po prvním načtení dat
            if (!initialDataLoaded) {
                 loadingMessage.classList.add('hidden');
                 initialDataLoaded = true;
            }

            // 2. Zobrazit kontejner se seznamem produktů (i když je prázdný, dokud se nezvolí kategorie)
            // Tím potvrdíme, že data z DB dorazila a initialSelect je připraven.
            productListContainer.classList.remove('hidden');

            // 3. Pokud je zvolena kategorie, renderujeme list
            if (currentFilter) {
                renderProductList(allProducts, currentFilter);
            }
            // Pokud není zvolena kategorie, zůstává úvodní obrazovka
        }, (error) => {
            console.error("Chyba při načítání dat z Firebase: ", error);
            loadingMessage.textContent = "Nastala chyba při načítání produktů. Zkontrolujte připojení.";
            loadingMessage.classList.remove('hidden');
            loadingMessage.classList.add('col-span-full', 'text-center', 'text-red-500', 'p-8');
            productListContainer.classList.add('hidden');
        });

        // Nastavení listenerů pro úvodní tlačítka
        document.getElementById('btn-select-nove').addEventListener('click', () => selectCategory('Nove'));
        document.getElementById('btn-select-bazar').addEventListener('click', () => selectCategory('Bazar'));
    </script>
</body>

</html>

